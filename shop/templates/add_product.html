<!DOCTYPE html>
{% load static %}
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <title>Add Product</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'css/add_product.css' %}">
    <script src="{% static 'js/add_product.js' %}"></script>
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <script src="https://cdn.quilljs.com/1.3.6/quill.min.js"></script>
</head>
<body>
<header>
    <div class="header-container">
        <a class="site-name" href="http://127.0.0.1:8000/home/">Merchants Guild</a>
        <div class="search-bar">Search</div>
        <a class="cart-link">Cart</a>
        <a class="favorites-link">Favorites</a>
        <a class="account-link" href="http://127.0.0.1:8000/account/">Account</a>
    </div>
</header>

<main>
    <h1 class="text">Create Product</h1>
    <div class="category">
        <p class="category-text">Choose your product category</p>
        <select class="category-box" name="category_subcategory" id="category_subcategory">
            {% if product %}
            <option value="{{ product.category.id }}" selected>
                {{ product.category.name }}/{% for subcategory in product.subcategories.all %}{{ subcategory.name
                }}/{% endfor %}
            </option>
            {% else %}
            <option value="" disabled selected hidden>Select a category</option>
            {% endif %}
            {% for category in categories %}
            {% with subcategories=category.subcategories %}
            <option>{{ category.name }}/{% for subcategory in subcategories %}{{ subcategory.name }}/{% endfor %}
            </option>
            {% endwith %}
            {% endfor %}
        </select>
    </div>

    <div class="name">
        <p class="name-text">Your product name</p>
        <input class="name-box" type="text" name="name" value="{{ product.name }}" placeholder="Product name">
    </div>

    <div class="ship">
        <p class="ship-text">Your product shippers</p>
        <input class="ship-box" type="text" name="ship" value="{{ product.ship }}" placeholder="Shippers name">
    </div>

    <div class="price-stock">
        <p class="price-stock-text">Your product price</p>
        <p class="price-stock-text">Your product stock</p>
        <input class="price-stock-box" type="number" name="price" step="0.01" value="{{ product.price }}"
               placeholder="Product Price">
        <input class="price-stock-box" type="number" name="stock" value="{{ product.stock }}"
               placeholder="Product Stock">
    </div>

    <div class="image">
        <p class="image-text">Your Product Images</p>
        <label class="add-image">
            <input type="file" name="images" multiple accept="image/*">
            Choose Images
        </label>

        <div class="image-preview">
            <!-- Image previews will appear here -->
        </div>
    </div>

    <div class="description">
        <h1 class="description-text">Your product description</h1>
        <!-- Quill editor container -->
        <div class="quill-editor"></div>
    </div>

    <div class="specifications">
        <p class="specifications-text">Your product specification</p>
        <button type="button" class="add-specifications">Add specification</button>
        <div class="specification"></div>
    </div>

    <div class="features">
        <p class="features-text">Your product feature</p>
        <button type="button" class="add-features">Add feature</button>
        <div class="feature"></div>
    </div>

    {% for message in messages %}
    <div class="Message">
        <p>{{ message }}</p>
    </div>
    {% endfor %}

    <button class="create-product">Create Product</button>

    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
    </form>
</main>
<footer>
    &copy; E-commerce Site
</footer>

</body>
</html>
